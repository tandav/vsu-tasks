# Lecture 4
- на каждом уровне пакеты называются по разному, на втором допустим это `frame`

Инкапсуляция пакетов:
- frame содержит служебную инфу (заголовки) + `ip packet` (полезная нагрузка)
- в `ip packet`тоже служебная инфа + `tcp or udp packet`

комп принимает frame - смотрит (ему ли это): если ему то передает ip-модулю ос (в ядре обычно модуль ip). IP-module смотрит какой номер и передает дальше

Бывают заголовки 1234567 уровней

много приложений не юзают заголовки высокого уровня. Многие пакеты на низких уровнях летают. Есть служебные пакеты, без заголовков высокого уровня.

data link | network | transport | session | ... | data or payload
header    | header  | header    | header  |     | 



---

## 1. Physical
виртуальный битовый канал с ошибками. модем юзается. Ошибки исправляются выше. Модем = модуляция + демодуляция.

Модуляцие - map  разных характеристик сигнала на символы `[0, 1]`. вообще не обяз двухуровневая. Иногда в радио бывают по 7-10 бит. Но обычно zeros and ones.


## 2. Data Link / канальный уровень 
- виртуальный битовый канал без ошибок. исправляются ошибки. Выше уже все без ошибок.(тех ошибок которые вызваны физикой канала, помехи всякие. Но есть еще ошибки логические, программные ошибки, они могут быть и выше) На этом уровне появляются пакеты (тут frames). Также есть контрольная сумма, которая определяет верность содержимого. 

Тут есть MAC адреса. Это адреса для внутри одной сети. Исторически сложилось что они уникальные, но это не обязательно

Для езернете from и to  адреса - это MAC адреса

## 3. Network уровень / IP
тут тоже есть контрольные суммы, проверочные последовательности. Доставка пакетов из конца в конец. (не внутри одной локал сети, а внутри глобальной сети)
Тут адреса должны быть глобально уникальными


## 3. Transport (TCP / UDP / ...)
- гарантированная (+ порядок пакетов) или негарантированная доставка
- udp - просто передать и подключить к нужному процессу через порт

есть параметры задержка, пропускная способность, скорость сигнала

## 4. Session
соединение, установка сеанса, поддержание, восстановление, если обарвался


## Presentation
Кодирование / перекодирование, когда в разных форматах. Допустим кодирование видео, локализация (язык/регион)

## Applicaton
взаимодействие человек - машина


---

есть тунелирование. типа как полезную нагрузку в более низкий пакет завертываешь
Нужно для старых протоколов

можно ip в ip засунуть для скрытности

Можно засунуть ipv6 пакет в обычный ipv4

Инкапсуляция тащит

---
