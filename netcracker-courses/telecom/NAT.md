# NAT
- роутер по таблице подменяет заголовки
- внутряння сеть с private IPs 


таблица преобразовывает 
private <-> public


## есть статический - просто каждый private ip maps to public
- в нем особо смысла нет потому что требуется столько же публичных айпишников сколько и приватных


## ну есть mascarading / overloaded NAT
 тут уже порты юзаются

| private |  port | public | port |


получается юзая один public ip можно создать 65K ip (по количеству портов)


есть какие-то штуки когда нет портов - но там можно юзать security index


для одного компа может много записей в NAT-table (потому что с разных портов выходить может. В p2p - там типа вообще жестко сливают)


----------------------------------------------------------------

NAT in packet tracer

1. Пометить интерфейсы NAT-роутера
```
входишь в интерфейс int g0/0  (какой нужно тут вписать)
ip nat inside

входишь в интерфейс int g0/1  (какой нужно тут вписать)
ip nat outside
```

2. список доступа / именованный
```
ip access-list st NAT (NAT = имя  интерфейса я так понял)
permit 192.168.0.0 0.0.255.255 # (wildcard /invers mask)
```

3. `ip nat pool NAT <ip> <ip> netmask <mask> `

4. включить NAT `ip nat inside source list NAT pool NAT` Это обычный без overload

`show ip nat tr` - вывести таблицу nat. В таблице 4 колонки - можно и туда и обратно.

----------------------------------------------------------------
